import{h as t,r as e,c as i,H as s,g as a}from"./p-a2df3a49.js";const r=({step:e,checkOnComplete:i,complete:s,passed:a,active:r,first:o,disable:l,onClick:h})=>t("div",{class:"graphic-step","data-first":o},o?null:t("wcs-progress-bar",{value:a?100:0}),t("wcs-button",{style:{backgroundColor:"white"},shape:"round",onClick:t=>h(e),mode:(r||s)&&!e.disable?"plain":"stroked",disabled:l},n(e.button,i,s,r)));const n=(e,i,s,a)=>{if(i&&s&&!a){return t("wcs-mat-icon",{size:"m",icon:"done",family:"outlined"})}switch(e.kind){case"Icon":return t("wcs-mat-icon",{size:"m",icon:e.iconName,family:e.family?e.family:"outlined"});case"Text":return e.text}};const o=":host{display:block}:host .steps{display:flex;flex-direction:row;flex:1}:host .graphic-step{display:flex;flex-direction:row;flex:1;align-items:center}:host .graphic-step[data-first]{flex:0}:host wcs-progress-bar{--wcs-internal-progress-bar-border-radius:0;flex:1;margin:0 -1px}:host .label-container{justify-content:space-between;display:flex;flex-direction:row;margin-top:var(--wcs-base-margin)}:host .label-container>*{width:100%;text-align:center;flex:1;color:var(--wcs-text-medium);font-weight:500}:host .label-container>*[data-disable]{color:var(--wcs-text-light)}:host .label-container>*[data-current]{color:var(--wcs-primary)}:host .label-container>div[data-first]{margin-left:20px;text-align:left;flex:0.5}:host .label-container>div[data-first]>span{margin-left:-20px}:host .label-container>div[data-last]{margin-right:20px;text-align:right;flex:0.5}:host .label-container>div[data-last]>span{margin-right:-20px}";const l=class{constructor(t){e(this,t);this.wcsHorizontalStepClick=i(this,"wcsHorizontalStepClick",7);this.currentStep=0;this.steps=undefined;this.mode="nonLinear";this.checkOnComplete=undefined;this.internalCurrentStep=undefined}componentWillLoad(){this.internalCurrentStep=this.currentStep;if(this.steps.length<1){throw new Error("You must add at least one step")}}onCurrentStepChange(t,e){if(this.internalCurrentStep!==undefined){const i=Math.abs(e-t);this.el.style.setProperty("--wcs-progress-bar-animation-duration",375/i+"ms");if(t!==e){for(let s=0;s<i;s++){setTimeout((()=>{this.internalCurrentStep-=e-t>0?1:-1;if(s===i-1){this.el.style.removeProperty("--wcs-progress-bar-animation-duration")}}),s*(375/i))}}}}async previous(){this.navigateToIndex(this.internalCurrentStep-1,"backward")}async next(){this.navigateToIndex(this.internalCurrentStep+1,"forward")}navigateToIndex(t,e){var i,s;if(t>=0&&t<=this.steps.length-1){if(((i=this.steps[t])===null||i===void 0?void 0:i.complete)||((s=this.steps[t])===null||s===void 0?void 0:s.disable)){this.navigateToIndex(t+(e==="forward"?1:-1),e)}else{this.currentStep=t}}}render(){return t(s,null,t("div",{class:"steps"},this.steps.map(((e,i)=>t(r,{step:e,passed:i<=this.internalCurrentStep,checkOnComplete:this.checkOnComplete,complete:this.isComplete(e,i),active:i===this.internalCurrentStep,first:i===0,disable:this.isDisable(e,i),onClick:t=>this.wcsHorizontalStepClick.emit({step:t,index:i})})))),this.renderLabels())}isComplete(t,e){return e<=this.internalCurrentStep||t.complete}renderLabels(){if(this.steps.map((t=>t.text)).every((t=>!t))){return null}else{return t("div",{class:"label-container"},this.steps.map(((e,i)=>t("div",{"data-first":i===0,"data-current":i===this.internalCurrentStep&&!e.disable,"data-disable":this.isDisable(e,i),"data-last":i===this.steps.length-1},t("span",null,e.text)))))}}isDisable(t,e){return t.disable||this.mode==="linear"&&(!this.isNextPossibleStep(e)&&this.internalCurrentStep<e)}isNextPossibleStep(t){var e;if(t===0)return true;if(((e=this.steps[t-1])===null||e===void 0?void 0:e.disable)||this.previousStepIsCompleteAndNotActive(t))return this.isNextPossibleStep(t-1);return this.internalCurrentStep===t-1}previousStepIsCompleteAndNotActive(t){var e;return((e=this.steps[t-1])===null||e===void 0?void 0:e.complete)&&t-1!==this.internalCurrentStep}get el(){return a(this)}static get watchers(){return{currentStep:["onCurrentStepChange"]}}};l.style=o;export{l as wcs_horizontal_stepper};
//# sourceMappingURL=p-d6b3f742.entry.js.map