{"version":3,"names":["comNavCategoryCss","ComNavCategory","onWindowClickEvent","_","this","categoryOpen","onSubmenuOpened","event","detail","categoryElement","el","handleMenuKeyDown","_event","isSpaceKey","isEnterKey","handleCategoryItemsKeyDown","handleItemClick","async","onClick","evt","stopPropagation","wcsCategoryOpened","emit","target","tagName","close","wcsCategoryItemClicked","render","h","Host","tabindex","screen","width","class","onKeyDown","label","tabIndex"],"sources":["./src/components/com-nav-category/com-nav-category.scss?tag=wcs-com-nav-category&encapsulation=shadow","./src/components/com-nav-category/com-nav-category.tsx"],"sourcesContent":["@import '../../style/focus-outline.scss';\n\n:host{\n    display: block;\n    padding-bottom: var(--wcs-padding);\n    .label-container {\n        display: block;\n        padding-left: calc(9 * var(--wcs-base-margin));\n        color: var(--wcs-gray);\n    }\n    ::slotted(a):after {\n        font-family: icons;\n        padding-left: var(--wcs-base-margin);\n        font-size: 0.6rem;\n        content: \"\\f107\";\n        line-height: 1;\n        box-sizing: border-box;\n    }\n\n    ::slotted(a) {\n        display: block;\n        cursor: pointer;\n        text-decoration: none;\n        font-size: 16px;\n        color: var(--wcs-gray);\n        padding-left: calc(12 * var(--wcs-base-margin));\n        padding-top: calc(1.5 * var(--wcs-base-margin));\n        padding-bottom: calc(1.5 * var(--wcs-base-margin));\n    }\n\n    /**For mobile*/\n    ::slotted(a:focus-visible) {\n        @include focus-outline(var(--wcs-primary), 2px, 0.1rem);\n    }\n\n    @supports not selector(::slotted(a:focus-visible)) {\n        ::slotted(a:focus-within) {\n            @include focus-outline(var(--wcs-primary), 2px, 0.1rem);\n        }\n    }\n}\n\n@media screen and (min-width: 576px) {\n    :host {\n        padding-bottom: unset;\n\n        .item-container:not([data-open]) {\n            display: none;\n        }\n\n        .label:after {\n            font-family: icons;\n            padding-left: var(--wcs-base-margin);\n            font-size: 0.6rem;\n            content: \"\\f107\";\n            line-height: 1;\n            box-sizing: border-box;\n        }\n\n        .label-container {\n            cursor: pointer;\n            user-select: none;\n            display: flex;\n            align-items: center;\n            padding-left: unset;\n            color: var(--wcs-white);\n        }\n\n        .label-container:focus-visible   {\n            @include focus-outline(var(--wcs-white), 5px, 0.1rem);\n        }\n\n        @supports not selector(.label-container:focus-visible) {\n            .label-container:focus-within {\n                @include focus-outline(var(--wcs-white), 5px, 0.1rem);\n            }\n        }\n\n        .label-container[data-open]:after {\n            position: absolute;\n            left: calc(calc(calc(100% / 2) + calc(var(--wcs-com-content-max-width) / 8)) - calc(1.125rem / 2));\n            z-index: 2;\n            display: block;\n            width: 1.125rem;\n            height: 1.125rem;\n            content: \"\";\n            background-color: var(--wcs-primary);\n            transform: rotate(45deg);\n        }\n\n        .item-container[data-open] {\n            position: absolute;\n            left: calc(calc(100% / 2) + calc(var(--wcs-com-content-max-width) / 8));\n            top: 0;\n            right: 0;\n            padding: 50px 0 50px 50px;\n            background-blend-mode: multiply;\n            background-color: rgba(0, 0, 0, 0.15);\n            box-sizing: border-box;\n            height: calc(100%);\n            display: flex;\n            flex-direction: column;\n            align-items: start;\n\n            ::slotted(a:not(:first-child)) {\n                margin-top: 24px;\n            }\n            ::slotted(a) {\n                display: unset;\n                color: var(--wcs-white);\n                padding-left: unset;\n                padding-top: unset;\n                padding-bottom: unset;\n            }\n\n            ::slotted(a:focus-visible) {\n                @include focus-outline(var(--wcs-white), 2px, 0.1rem);\n            }\n\n            @supports not selector(::slotted(a:focus-visible)) {\n                ::slotted(a:focus-within) {\n                    @include focus-outline(var(--wcs-white), 2px, 0.1rem);\n                }\n            }\n        }\n    }\n}\n","import {\n    Component,\n    ComponentInterface,\n    Element,\n    Event,\n    EventEmitter,\n    h,\n    Host,\n    Listen, Method,\n    Prop,\n    State\n} from '@stencil/core';\nimport { CategoryOpenedEventDetail } from '../com-nav/com-nav-interface';\nimport {isEnterKey, isSpaceKey} from \"../../utils/helpers\";\n\n@Component({\n    tag: 'wcs-com-nav-category',\n    styleUrl: 'com-nav-category.scss',\n    shadow: true,\n})\nexport class ComNavCategory implements ComponentInterface {\n    @Element() private el!: HTMLWcsComNavCategoryElement;\n    @Prop() label: string;\n    @State() private categoryOpen: boolean = false;\n    @Event() wcsCategoryOpened: EventEmitter<CategoryOpenedEventDetail>;\n    @Event() wcsCategoryItemClicked: EventEmitter<UIEvent>;\n\n    @Listen('click', {target: 'window'})\n    onWindowClickEvent(_: MouseEvent) {\n        if (this.categoryOpen) this.categoryOpen = false;\n    }\n\n    @Listen('wcsCategoryOpened', {target: 'window'})\n    onSubmenuOpened(event: CustomEvent<CategoryOpenedEventDetail>) {\n        if (event.detail.categoryElement !== this.el) {\n            this.categoryOpen = false;\n        }\n    }\n\n    /**\n     * Open the menu if it is closed and closed the menu if it is already opened\n     * @param _event the keyboard event\n     * @private\n     */\n    private handleMenuKeyDown(_event: KeyboardEvent) {\n        if ((isSpaceKey(_event)) || isEnterKey(_event)) {\n            this.categoryOpen = !this.categoryOpen;\n        }\n    }\n\n    /**\n     * Handle key down on category items\n     * @param _event the keyboard event\n     * @private\n     */\n    private handleCategoryItemsKeyDown(_event: KeyboardEvent) {\n        if ((isSpaceKey(_event)) || isEnterKey(_event)) {\n            this.handleItemClick(_event);\n        }\n    }\n\n    /**\n     * Close the category\n     */\n    @Method()\n    async close() {\n        this.categoryOpen = false;\n    }\n\n    /**\n     * Opens the category\n     */\n    @Method()\n    async open() {\n        this.categoryOpen = true;\n    }\n\n    /**\n     * When the user clicks on the menu, we do not propagate the native event and we launch a custom event to manage\n     * the closing of the menu correctly\n     */\n    private onClick(evt: MouseEvent) {\n        evt.stopPropagation();\n        this.wcsCategoryOpened.emit({categoryElement: this.el})\n    }\n\n\n    /**\n     * Close the category and fire item click if we detect a mouse click on a slotted `a` element.\n     * @param evt\n     * @private\n     */\n    private handleItemClick(evt: UIEvent) {\n        if ((evt.target as HTMLElement).tagName === 'A') {\n            this.close();\n            this.wcsCategoryItemClicked.emit(evt);\n        }\n    }\n\n    render(): any {\n        return (\n            <Host onClick={evt => this.onClick(evt)}>\n                <div tabindex={screen.width < 576 ? \"-1\" : \"0\"}\n                     class=\"label-container\"\n                     data-open={this.categoryOpen}\n                     onKeyDown={evt => this.handleMenuKeyDown(evt)}\n                     onClick={_ => this.categoryOpen = !this.categoryOpen}><span class=\"label\">{this.label}</span></div>\n                <div class=\"item-container\"\n                     tabIndex={-1}\n                     data-open={this.categoryOpen}\n                     onKeyDown={evt => this.handleCategoryItemsKeyDown(evt)}\n                     onClick={(evt) => this.handleItemClick(evt)}>\n                    <slot/>\n                </div>\n            </Host>\n        )\n    }\n\n}\n"],"mappings":"2GAAA,MAAMA,EAAoB,siF,MCoBbC,EAAc,M,oLAGkB,K,CAKzCC,mBAAmBC,GACf,GAAIC,KAAKC,aAAcD,KAAKC,aAAe,K,CAI/CC,gBAAgBC,GACZ,GAAIA,EAAMC,OAAOC,kBAAoBL,KAAKM,GAAI,CAC1CN,KAAKC,aAAe,K,EASpBM,kBAAkBC,GACtB,GAAKC,EAAWD,IAAYE,EAAWF,GAAS,CAC5CR,KAAKC,cAAgBD,KAAKC,Y,EAS1BU,2BAA2BH,GAC/B,GAAKC,EAAWD,IAAYE,EAAWF,GAAS,CAC5CR,KAAKY,gBAAgBJ,E,EAQ7BK,cACIb,KAAKC,aAAe,K,CAOxBY,aACIb,KAAKC,aAAe,I,CAOhBa,QAAQC,GACZA,EAAIC,kBACJhB,KAAKiB,kBAAkBC,KAAK,CAACb,gBAAiBL,KAAKM,I,CAS/CM,gBAAgBG,GACpB,GAAKA,EAAII,OAAuBC,UAAY,IAAK,CAC7CpB,KAAKqB,QACLrB,KAAKsB,uBAAuBJ,KAAKH,E,EAIzCQ,SACI,OACIC,EAACC,EAAI,CAACX,QAASC,GAAOf,KAAKc,QAAQC,IAC/BS,EAAA,OAAKE,SAAUC,OAAOC,MAAQ,IAAM,KAAO,IACtCC,MAAM,kBAAiB,YACZ7B,KAAKC,aAChB6B,UAAWf,GAAOf,KAAKO,kBAAkBQ,GACzCD,QAASf,GAAKC,KAAKC,cAAgBD,KAAKC,cAAcuB,EAAA,QAAMK,MAAM,SAAS7B,KAAK+B,QACrFP,EAAA,OAAKK,MAAM,iBACNG,UAAW,EAAC,YACDhC,KAAKC,aAChB6B,UAAWf,GAAOf,KAAKW,2BAA2BI,GAClDD,QAAUC,GAAQf,KAAKY,gBAAgBG,IACxCS,EAAA,c"}