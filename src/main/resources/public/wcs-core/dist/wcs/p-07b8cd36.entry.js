import{r as t,c as s,h as e,H as i,g as a}from"./p-a2df3a49.js";const n=':host{--wcs-tabs-padding-bottom:16px}:host([align=start]) .wcs-tabs-headers{justify-content:start}:host([align=end]) .wcs-tabs-headers{justify-content:end}:host([align=center]) .wcs-tabs-headers{justify-content:center}.wcs-tabs-headers{padding-top:4px;overflow-x:auto;display:flex;position:relative}:host([gutter]) .wcs-tabs-headers{border-bottom:var(--wcs-tabs-headers-border-bottom)}.wcs-tab-header{padding:8px 24px 16px 0;display:flex;flex-shrink:0;align-items:center;justify-content:center;cursor:pointer;outline:none}.wcs-tab-header span{text-align:center;color:var(--wcs-text-disabled);font-size:1rem;font-weight:400}.wcs-tab-header:focus span,.wcs-tab-header:hover span{color:var(--wcs-primary)}.wcs-tab-header:focus-visible>span{outline:2px dashed var(--wcs-primary);outline-offset:4px;border-radius:0.1rem}.active span{font-weight:500;color:var(--wcs-primary);position:relative}.active span::after{position:absolute;bottom:calc(var(--wcs-tabs-padding-bottom) * -1);left:0;width:100%;height:0.3125rem;content:"";background-color:var(--wcs-primary);border-radius:3px}';const r=class{constructor(e){t(this,e);this.tabChange=s(this,"tabChange",7);this.align="start";this.selectedIndex=0;this.selectedKey=undefined;this.headersOnly=false;this.gutter=undefined;this.headers=[];this.currentActiveTabIndex=0}selectedIndexChanged(t){this.currentActiveTabIndex=t}selectedTabkeyChanged(t){this.updateCurrentActiveIndexByTabKey(t)}emitActiveTabChange(){this.tabChange.emit({tabName:this.headers[this.currentActiveTabIndex],tabIndex:this.currentActiveTabIndex,selectedKey:this.tabs[this.currentActiveTabIndex].itemKey})}updateCurrentActiveIndexByTabKey(t){for(let s=0;s<this.tabs.length;s++){const e=this.tabs[s];if(e.itemKey===t){this.currentActiveTabIndex=s}}}onTabLoaded(){this.refreshHeaders()}componentDidLoad(){this.putTabsInCorrectDivIfTheyAreNot();this.refreshHeaders();if(this.selectedIndex){this.currentActiveTabIndex=this.selectedIndex}if(this.selectedKey){this.updateCurrentActiveIndexByTabKey(this.selectedKey)}}putTabsInCorrectDivIfTheyAreNot(){const t=this.el.shadowRoot.querySelector(".wcs-tabs");if(t.querySelector("slot")===null){Array.from(this.el.querySelectorAll("wcs-tab")).filter((s=>s.parentNode!==t)).forEach((s=>{if(s.parentElement.isEqualNode(this.el)){this.el.removeChild(s);t.appendChild(s)}}))}}handleKeyDown(t,s){var e,i;const a=t.target;switch(t.key){case" ":case"Enter":{this.currentActiveTabIndex=s;this.emitActiveTabChange();t.preventDefault();break}case"ArrowLeft":{if((e=a.previousElementSibling)===null||e===void 0?void 0:e.classList.contains("wcs-tab-header")){a.previousElementSibling.focus();t.preventDefault()}break}case"ArrowRight":{if((i=a.nextElementSibling)===null||i===void 0?void 0:i.classList.contains("wcs-tab-header")){a.nextElementSibling.focus();t.preventDefault()}break}}}refreshHeaders(){this.headers=[];this.tabs.forEach((t=>{this.headers.push(t.getAttribute("header"))}))}get tabs(){var t;const s=this.el.shadowRoot.querySelector(".wcs-tabs");const e=this.el.shadowRoot.querySelectorAll(".wcs-tabs > wcs-tab");return e.length!==0?e:(s===null||s===void 0?void 0:s.querySelector("slot"))?(t=s===null||s===void 0?void 0:s.querySelector("slot"))===null||t===void 0?void 0:t.assignedElements():[]}selectTabAndEmitChangeEvent(t){this.currentActiveTabIndex=t;this.emitActiveTabChange()}componentWillUpdate(){if(!this.headersOnly){this.updateTabVisibility()}else{this.hideAllTabsContent()}}updateTabVisibility(){this.tabs.forEach(((t,s)=>{if(s!==this.currentActiveTabIndex){t.setAttribute("style","display: none;")}else{t.setAttribute("style","display: block;")}}))}hideAllTabsContent(){this.tabs.forEach((t=>t.setAttribute("style","display: none;")))}render(){return e(i,null,e("div",{class:"wcs-tabs-headers"},this.headers.map(((t,s)=>e("div",{class:"wcs-tab-header "+(this.currentActiveTabIndex===s?"active":""),onClick:()=>this.selectTabAndEmitChangeEvent(s),onKeyDown:t=>this.handleKeyDown(t,s),tabIndex:this.currentActiveTabIndex===s?0:-1},e("span",null,t))))),e("div",{class:"wcs-tabs"},e("slot",{name:"wcs-tab"})))}get el(){return a(this)}static get watchers(){return{selectedIndex:["selectedIndexChanged"],selectedKey:["selectedTabkeyChanged"]}}};r.style=n;export{r as wcs_tabs};
//# sourceMappingURL=p-07b8cd36.entry.js.map