import{r as i,c as t,h as s,H as e,g as n}from"./p-a2df3a49.js";import{c as a,d as r,e as o,f as h}from"./p-12ac2547.js";const c=["m","l"];function u(i){return c.includes(i)}const d="@keyframes spin-animation-up{0%{transform:translateY(0);transform-origin:center;opacity:1}50%{opacity:0.5}100%{transform:translateY(30px);transform-origin:center;opacity:1}}@keyframes spin-animation-down{0%{transform:translateY(0);transform-origin:center;opacity:1}50%{opacity:0.5}100%{transform:translateY(-30px);transform-origin:center;opacity:1}}:host{box-sizing:border-box;height:var(--wcs-counter-host-height);--wcs-input-icon-color:var(--wcs-text-medium);--wcs-internal-input-border-radius:calc(var(--wcs-border-radius) * 10);--wcs-internal-input-border-width:2px;font-family:var(--wcs-font-sans-serif);font-size:var(--wcs-counter-font-size);font-weight:bold;display:flex;align-items:center;padding:var(--wcs-counter-host-padding);width:fit-content;overflow:hidden;border-radius:var(--wcs-internal-input-border-radius);background-color:var(--wcs-light);border:var(--wcs-internal-input-border-width) solid var(--wcs-light);background-clip:padding-box}:host .counter-container{height:var(--wcs-counter-host-height);display:flex;flex-direction:column;align-items:center;justify-content:center;margin:0 calc(2 * var(--wcs-base-margin));position:relative}:host .outliers{position:absolute}:host #outlier-down{top:calc(var(--wcs-counter-host-height) / 2 * -1)}:host #outlier-up{bottom:calc(var(--wcs-counter-host-height) / 2 * -1)}:host span.current-value:focus-visible{outline:2px dashed var(--wcs-primary);outline-offset:4px;border-radius:0.1rem}:host .animate-up{animation:spin-animation-up 0.175s ease-in-out}:host .animate-down{animation:spin-animation-down 0.175s ease-in-out}:host .hidden{opacity:0}:host([size=m]){--wcs-counter-host-padding:4px;--wcs-counter-host-height:var(--wcs-size-m);--wcs-counter-font-size:1rem}:host([size=l]){--wcs-counter-host-padding:8px;--wcs-counter-host-height:var(--wcs-size-l);--wcs-counter-font-size:1.0625rem}";const l=.175;const f=class{constructor(s){i(this,s);this.wcsChange=t(this,"wcsChange",7);this.wcsBlur=t(this,"wcsBlur",7);this.animateRunning=false;this.getCounterContainer=()=>Array.from(this.el.shadowRoot.children).find((i=>i.tagName==="DIV"));this.handleDecrement=()=>{if(this.min===undefined||this.value>this.min){this.animateRunning=true;this.value-=this.step;this.notifyChange();this.animate("up")}};this.handleIncrement=()=>{if(this.max===undefined||this.value<this.max){this.animateRunning=true;this.value+=this.step;this.notifyChange();this.animate("down")}};this.animate=i=>{this.animateRunning=true;const t=this.getCounterContainer();const s=Array.from(t.children).filter((i=>i.classList.contains("outliers")));t.classList.add("animate-"+i);s.forEach((i=>{i.classList.remove("hidden")}));setTimeout((()=>{t.classList.remove("animate-"+i);s.forEach((i=>{i.classList.add("hidden")}));this.displayedValue=this.value;this.animateRunning=false}),1e3*l-20)};this.size="m";this.label=undefined;this.min=undefined;this.max=undefined;this.step=1;this.value=undefined;this.displayedValue=undefined}componentWillLoad(){this.handleValueChange();if(!u(this.size)){console.error(`Invalid size value for wcs-counter : "${this.size}". Must be one of "${c.join(", ")}"`);this.size="m"}}valueChange(i,t){if(t===i)return;this.handleValueChange()}handleValueChange(){this.setMinimumIfValueIsUndefinedOrNull();this.ensureValueIsNotOutOfMinMax();this.updateDisplayValueIfNoAnimationRunning()}updateDisplayValueIfNoAnimationRunning(){if(!this.animateRunning){this.displayedValue=this.value}}ensureValueIsNotOutOfMinMax(){if(this.max!==undefined&&this.value>this.max){this.value=this.max}else if(this.min!==undefined&&this.value<this.min){this.value=this.min}}setMinimumIfValueIsUndefinedOrNull(){var i;if(this.value===undefined||this.value===null){this.value=(i=this.min)!==null&&i!==void 0?i:0}}onKeyDown(i){if(a(i)){i.preventDefault();this.handleIncrement()}if(r(i)){i.preventDefault();this.handleDecrement()}if(o(i)){i.preventDefault();if(this.min!=null){this.value=this.min;this.displayedValue=this.value;this.notifyChange()}}if(h(i)){i.preventDefault();if(this.max!=null){this.value=this.max;this.displayedValue=this.value;this.notifyChange()}}}notifyChange(){this.wcsChange.emit({value:this.value})}render(){return s(e,null,s("wcs-button",{class:"wcs-primary",shape:"round",size:"s",tabindex:-1,onClick:()=>this.handleDecrement(),onBlur:i=>this.wcsBlur.emit(i),disabled:this.value===this.min},s("wcs-mat-icon",{icon:"remove",size:"s"})),s("div",{class:"counter-container"},s("span",{id:"outlier-down",class:"outliers hidden","aria-hidden":"true"},this.displayedValue-this.step),s("span",{tabindex:"0",role:"spinbutton",class:"current-value",onBlur:i=>this.wcsBlur.emit(i),onKeyDown:i=>this.onKeyDown(i),"aria-valuenow":this.value,"aria-valuetext":this.value,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-label":this.label},this.displayedValue),s("span",{id:"outlier-up",class:"outliers hidden","aria-hidden":"true"},this.displayedValue+this.step)),s("wcs-button",{class:"wcs-primary",shape:"round",size:"s",tabindex:-1,onClick:()=>this.handleIncrement(),onBlur:i=>this.wcsBlur.emit(i),disabled:this.value===this.max},s("wcs-mat-icon",{icon:"add",size:"s"})))}get el(){return n(this)}static get watchers(){return{value:["valueChange"]}}};f.style=d;export{f as wcs_counter};
//# sourceMappingURL=p-6b66ce85.entry.js.map